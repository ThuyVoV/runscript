{% extends "runscript/base.html" %}



{% block title %} Logs {% endblock title%}
    {% block content %}
    <form method="get" action="{% url 'runscript:view_and_upload' pk %} ">
        <input type="submit" value="back"><br><br>
    </form>
    {% if can_log %}
        {% if logs %}
            {% if is_paginated %}
                {% if page_obj.has_previous %}
                    <span><a href="?page={{ page_obj.previous_page_number }}">Previous</a></span>
                {% endif %}
                    <span>Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}</span>
                {% if page_obj.has_next %}
                    <span><a href="?page={{ page_obj.next_page_number }}">Next</a></span>
                {% endif %}
            {% endif %}
            <table>
                <tr>
                    <th>Date</th>
                    <th>User</th>
                    <th>Action</th>
                </tr>
                {% for log in logs %}
                    <tr>
                        <td>{{ log.date_added }}</td>
                        <td>{{ log.person }}</td>
                        <td>{{ log.action }}</td>
                    </tr>
                {% endfor %}
            </table>
        {% else %}
            no logs
        {% endif %}
    {% endif %}
{% endblock content %}
